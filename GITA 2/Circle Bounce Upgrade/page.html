<html>
<head>
<title>
Objects
</title>
<script language="javascript">

    //global level variables
    var onOff = 0;
    var circles = new Array();

    var canvasBoundX = 500;
    var canvasBoundY = 500;

    //define the properties of our objects
    // create a function with 5 parameters
    
    function circleInfo(x, y, velX, velY, color, radius){
        this.x = x;
        this.y = y;
        this.velX = velX;
        this.velY = velY;
        this.color = color;
        this.radius = radius;
    }
    //fill array with its properties
    for(var i = 0; i < 10; i++){
        var xCoord = Math.floor(Math.random() * 440) + 30;
        var yCoord = Math.floor(Math.random() * 440) + 30;
        var velX = Math.floor(Math.random() * 8) + 1;
        var velY = Math.floor(Math.random() * 8) + 1;
        var r = Math.floor(Math.random() * 99);
        var g = Math.floor(Math.random() * 99);
        var b = Math.floor(Math.random() * 99);
        var myColor = "#" + r + g + b;
        var radius = Math.floor(Math.random() * 20) + 10;

        circles[i] = new circleInfo(xCoord, yCoord, velX, velY, myColor, radius);
    }


	function init()
	{
		drawCircle();
	}

    function update(){
        moveCircles();
    }
	
	function drawCircle()
	{
        var canvas = document.getElementById("myCanvas");
		var context = canvas.getContext("2d");
			
		//paint canvas
		context.fillStyle="#000000";
		context.fillRect(0,0,500,500);

			for(var i = 0; i < circles.length; i++){
                context.fillStyle = circles[i].color;
                context.beginPath();
                context.arc(circles[i].x, circles[i].y, circles[i].radius, 0, Math.PI * 2, true);
                context.closePath();
                context.fill();
            }
	}

    function checkContact(i){
        for(var a = 0; a < circles.length; a++){

            if(i != a){
                if(Math.abs(circles[i].x - circles[a].x) < Math.max(circles[i].radius, circles[a].radius) &&
                Math.abs(circles[i].y - circles[a].y) < Math.max(circles[i].radius, circles[a].radius)){

                var ri = Math.floor(Math.random() * 99);
                var gi = Math.floor(Math.random() * 99);
                var bi = Math.floor(Math.random() * 99);
                var colori = "#" + ri + gi + bi;

                circles[i].color = colori;

                var ra = Math.floor(Math.random() * 99);
                var ga = Math.floor(Math.random() * 99);
                var ba = Math.floor(Math.random() * 99);
                var colora = "#" + ra + ga + ba;

                circles[a].color = colora;
                
                    return true;
                }
            }
                
            }
    }

    function moveCircles(){
        for(var i = 0; i < circles.length; i++){
            

            if(circles[i].x > (canvasBoundX - circles[i].radius) || circles[i].x < circles[i].radius || checkContact(i)){
                circles[i].velX *= -1;
            }

            if(circles[i].y > (canvasBoundY - circles[i].radius) || circles[i].y < circles[i].radius || checkContact(i)){
                circles[i].velY *= -1;
            }            

            circles[i].x += circles[i].velX;
            circles[i].y += circles[i].velY;

        }

        drawCircle();
    }

    function resetBackground(){
        var canvas = document.getElementById("myCanvas");
			var context = canvas.getContext("2d");
			
			//paint canvas
			context.fillStyle="#000000";
			context.fillRect(0,0,500,500);
    }
	
	

function theTimer()
	{
		
		if(onOff == 0)
		{// In between brackets is a block of code
			timer = setInterval("update()",20);
			onOff = 1*1;
		}
		else if(onOff == 1)
		{
			clearInterval(timer);
			onOff = 0 * 1;
		}
	}
</script>
</head>
<body onload="init()">
<center>
<h1>Circle Objects</h1>
</br>
</br>
<canvas id="myCanvas" width="500" height="500"
			style="border: 2px solid rgb(195,195,195);">
		</canvas>
</br>
</br>
<input type="button" value="Move" onclick="moveCircles()">
<input type="button" name="Auto" value="Auto Move"
			onclick="theTimer()"/>
</center>
</body>
</html>